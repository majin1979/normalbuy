201612291250
	dataout.php 修改日志
		1 iChildID需要增加对应的条数，源代码中更新UFSystem..UA_Identity仅+1 写入明细时未累加，导致写入后续明细失败。
		2 在前部加入计算明细数量，后部写明细时添加了增量
		3 原需求说明中混淆了税率和税额，导致写入明细时混乱，已按用户真实需求整理好

	json.php 修改日志
		20161229 用户提出列表从7行改为6行 相应的代码进行了删减
		响应页面tfs的getinventoryUnitName，根据品名对应的comunitcode 查找数据库中计量单位的中文名称，返回给页面

	表单源码 修改日志
		1 添加对应的js代码，进行了radio的响应，改写对应的批准条目
		2 创建计量单位名称的tfs查询请求getinventoryUnitName，根据返回值显示计量单位的中文名称
		3 将简单的联动改为radio互斥单选，并将点选事件响应到js代码
		4 修改了每列计量单位处的控件NAME相同的BUG（复制后未做对应修改）

201612301130
	表单源码 修改日志
		添加了隐藏的批准税率，否则由于check变成了radio，导致循环判断语句失败，税率为空字符，导致SQL失败

		添加隐藏的RUNID，尚未编写相应的代码进行数据库存储和读取，以供单据显示用友单据号

	dataout.php 修改日志
		将供应商和申购部门的代码识别出来并写入主表单，之前是固定测试值

	json.php
		未修改，但是发觉提取历史审批价格时有逻辑错误，需要重写。（201701050048已梳理完成）

201612311458
	表单源码 修改日志
	1230手抽筋，将单位1的获取语句删除了参数，导致sql无select对象出错。

	json.php 修改日志
	json导入quest的时候未过滤单引号，windows输入法无法识别整句时会自动带入单引号，而单引号传入参数导致警告提示。已过滤单引号
	
201701010438
	表单源码
	用友流水直接联动，上级为"",页面会识别其值是否为空，空则执行datasource
	
	dataout.php
	发送数据时写入RUNID到主表的第22项cdefine1，以支持json查询匹配对应的cpiod（用友单号）
	
	json.php
	添加以runid查询cpoid的方法，回传单号给控件。
	
201701050048（关闭全部输出）
	表单源码
	radio改回check，因为泛微原生控件没有radio，无法进行权限控制和打印输出。
	历史供应商改为直接联动，上级为"",当无数据时会刷新，但是无上级，导致品名无法传递到json.php,改为json.php内部读取runid后直接读取表单数据库后回传数据。
	
	dataout.php
	无修改
	
	json.php
	读取历史数据时，仅获取方法和品名ID，由内部读取表单数据库后，取得品名的数据，然后再获取历史表单中的供应商数据。注意因为没有联动了，空字符也会被搜索到，所以要过滤。
	
201701050225（关闭全部输出）
	json.php
	恢复上级联动控件的品名参数传递，将内部读取数据库的变量改名为$pinming，另外注意到一点，如果上一个匹配品名的单据未流转完成，会导致下一张匹配的单据中上次批准供应商信息不全，有待查证。
	
201701052108（关闭全部输出）
	表单源码
		添加定时js，检查六行明细，是否存在品名有字符，编码无字符的状况，如果有，将隐藏控件RUNID置为“” ，如果无，置为“.”(尝试过成功为空格，但是验证失败。)
		
201701061143（关闭全部输出）
	表单源码
		定时检查的js中，添加数量的检查
		
201701061356（关闭全部输出）
	表单源码
		添加六个全局变量，定时检查的js中，同步六个品名，如果出现已经正常的品名被更改，则清空编码，等待再次带出。否则因为编码无效则无法提交。
		
201701061614（关闭全部输出）
	表单源码
		添加了隐藏的总经理审批时间（日期+时间）
		
	json.php
		修改了获取历史日期时的来源字段（之前是需求日期DATA_2，现在改为新的隐藏字段总经理审批时间DATA_273）
		
201701071836（关闭全部输出）
	表单源码
		修改了批准价格和批准供应商的title 使之更合理
		
	dataout.php
		获取价格处有BUG，不应该为待批价格2，而应该为批准价格。 
		
		表单金额改为金额格式后，会出现千位分隔符，其实就是逗号，会导致sql错误。
		=============注意======================
		各个提交数据最好均做分隔符过滤，包括‘与，还有“ / \等。

201701072230（关闭全部输出）
	表单源码
		做了待批条目的ID数组，做了不批准的check代码，点击后灰调且disable当前list。并调用批准check的nocheck来清空批准条目。
	
	dataout.php
		发送前检查明细的批准数量是否为0或空，是的话此条目不抛转，如果全部为0或空，则整张单都不抛。
		
201701172006（关闭全部输出）
	表单源码
		在检测到品名非空，编码没有的情况下，增加了清空单位和规格的动作
	
	dataout.php
		发送前检查明细的批准价格是否为空，是的话将空转为0。
		
201701212230（开启DataOut全部必要输出）
	客户提出需求修改
	1 增加供应商控件的数据库读取与下拉框匹配
	2 增加编码控件的数据库精确匹配与品名规格单位的动态联动。
	注意：要顾及定时扫描js的逻辑正确性与可靠输出性，建立逻辑框图后再编码

201702240100（开启DataOut全部必要输出）
   表单源码
        品名与编码相互联动 单位 规格 与品名联动 单位B 规格B与编码联动，且隐藏。
        js 定时检测单位与单位B，发觉其中一个变化，则另一个与之同步变化。实现品名与编码均可主导输入并联动到规格单位。

        增加无税单价一列，js动态计算出结果并填充。

        增加品名修改时对编码的验证，避免在动态修改编码，并联动品名时，也误作为清空的条件。

   json
        增加响应编码联动品名的数据源调用，且与之前的下拉框列表填充进行else互斥区分。